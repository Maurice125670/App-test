<ion-content class="ion-padding">
  <div class="register-container">
    <h1>MindFit - Inscription</h1>
    
    <form (ngSubmit)="register()" #registerForm="ngForm">
      <ion-item>
        <ion-label position="floating">Prénom</ion-label>
        <ion-input
          type="text"
          [(ngModel)]="firstName"
          name="firstName"
          required
        ></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Nom</ion-label>
        <ion-input
          type="text"
          [(ngModel)]="lastName"
          name="lastName"
          required
        ></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Email</ion-label>
        <ion-input
          type="email"
          [(ngModel)]="email"
          name="email"
          required
          email
        ></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Mot de passe</ion-label>
        <ion-input
          type="password"
          [(ngModel)]="password"
          name="password"
          required
          minlength="6"
        ></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Département</ion-label>
        <ion-select [(ngModel)]="department" name="department" required>
          <ion-select-option *ngFor="let dept of departments" [value]="dept">
            {{dept}}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-button
        expand="block"
        type="submit"
        [disabled]="!registerForm.valid"
      >
        S'inscrire
      </ion-button>
    </form>

    <div class="error-message" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

    <ion-button
      expand="block"
      fill="clear"
      (click)="goToLogin()"
    >
      Déjà inscrit ? Se connecter
    </ion-button>
  </div>
</ion-content>